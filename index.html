<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Terminal - Convertidor (rustico)</title>
<style>
  /* Rústico, parecido a Kali: fondo negro, texto verde, sin pulidos */
  :root{
    --bg:#000;
    --fg:#9cff9c; /* verde apagado */
    --muted:#6b6b6b;
    --danger:#ff6666;
    --panel:#07110b;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;background:var(--bg);color:var(--fg);font-family: "Courier New", monospace;}
  .wrap{padding:18px;min-height:100vh;display:flex;flex-direction:column;gap:12px}
  .ascii{white-space:pre;line-height:1.05;font-size:12px;color:var(--fg);opacity:0.95;border-bottom:1px solid #0b0b0b;padding-bottom:10px}
  .panel{background:transparent;border:1px solid #0b2b0b;padding:10px;border-radius:4px}
  /* Layout */
  #menuWrap{display:flex;gap:12px;align-items:flex-start}
  .menu{width:320px}
  .options{background:transparent;padding:6px;border-radius:4px;display:flex;flex-direction:column;gap:6px}
  .option{padding:8px 10px;border-left:4px solid transparent}
  .option.focus{background:#001100;border-left-color:var(--fg)}
  .hint{color:var(--muted);font-size:13px;margin-top:6px}
  /* Log */
  #logPanel{flex:1;min-height:260px;max-height:420px;overflow:auto;background:#03110a;border-radius:4px;padding:10px;border:1px solid #04200e;font-size:13px;white-space:pre-wrap;color:var(--fg)}
  .log-line{line-height:1.3}
  /* Progress */
  .barWrap{width:100%;height:8px;background:#001607;border-radius:4px;margin-top:8px;overflow:hidden;border:1px solid #06220f;display:none}
  .bar{height:100%;width:0%;background:linear-gradient(90deg,var(--fg),#3dfc8b)}
  /* Key input (inline in log) */
  .keyInputWrap{margin-top:8px;display:flex;gap:8px;align-items:center}
  .keyInput{background:#02120a;border:1px solid #083018;color:var(--fg);padding:6px;border-radius:4px;outline:none;width:260px}
  .keyBtn{padding:6px 8px;border-radius:4px;background:#02120a;border:1px solid #083018;color:var(--fg);cursor:pointer}
  /* Virus panel */
  .virusPanel{display:none;gap:8px;margin-top:8px;border-top:1px solid #04120c;padding-top:8px}
  .vtBox{background:#02120a;border:1px solid #06331d;padding:8px;border-radius:4px;color:var(--fg);font-size:13px;white-space:pre-wrap}
  .downloadBtn{padding:8px 10px;border-radius:4px;background:#01110a;border:1px solid #093018;color:var(--fg);cursor:pointer;margin-top:8px;display:inline-block}
  .danger{color:var(--danger);font-weight:700}
  @media (max-width:820px){#menuWrap{flex-direction:column}.menu{width:100%}}
</style>
</head>
<body>
<div class="wrap">
  <div class="ascii">
   ▄▄▄▄███▄▄▄▄      ▄████████ ████████▄   ▄█     ▄████████    ▄████████  ▄█     ▄████████    ▄████████ 
 ▄██▀▀▀███▀▀▀██▄   ███    ███ ███   ▀███ ███    ███    ███   ███    ███ ███    ███    ███   ███    ███ 
 ███   ███   ███   ███    █▀  ███    ███ ███▌   ███    ███   ███    █▀  ███▌   ███    ███   ███    █▀  
 ███   ███   ███  ▄███▄▄▄     ███    ███ ███▌   ███    ███  ▄███▄▄▄     ███▌  ▄███▄▄▄▄██▀  ▄███▄▄▄     
 ███   ███   ███ ▀▀███▀▀▀     ███    ███ ███▌ ▀███████████ ▀▀███▀▀▀     ███▌ ▀▀███▀▀▀▀▀   ▀▀███▀▀▀     
 ███   ███   ███   ███    █▄  ███    ███ ███    ███    ███   ███        ███  ▀███████████   ███    █▄  
 ███   ███   ███   ███    ███ ███   ▄███ ███    ███    ███   ███        ███    ███    ███   ███    ███ 
  ▀█   ███   █▀    ██████████ ████████▀  █▀     ███    █▀    ███        █▀     ███    ███   ██████████ 
                                                                               ███    ███             
  </div>

  <div id="menuWrap">
    <div class="menu panel">
      <div style="font-weight:700;margin-bottom:6px">Iniciar Convertidor</div>
      <div style="margin-bottom:8px;color:var(--fg)">¿Iniciar el convertidor?</div>
      <div class="options" id="mainOptions">
        <div class="option" data-idx="0">1 Yes</div>
        <div class="option" data-idx="1">2 No</div>
      </div>
      <div class="hint">Usa ↑ ↓ para moverte y Enter para confirmar</div>
    </div>

    <div class="panel" style="flex:1">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div style="font-weight:700">Registro de actividad</div>
        <div id="statusSmall" style="color:var(--muted);font-size:13px">Esperando acción</div>
      </div>

      <div id="logPanel" style="margin-top:8px"># Presiona Yes para iniciar ...</div>
      <div class="barWrap" id="barWrap"><div class="bar" id="progressBar"></div></div>
    </div>
  </div>

  <div id="virusPanel" class="virusPanel">
    <div style="display:flex;justify-content:space-between;align-items:flex-start;gap:10px">
      <div style="flex:1">
        <div style="font-weight:700">Análisis VirusTotal</div>
        <div class="vtBox" id="vtText">[Resultados de VirusTotal aparecerán aquí]</div>
      </div>
      <div style="width:200px">
        <div style="font-size:13px;color:var(--muted)">Tamaño</div>
        <div class="vtBox" id="fileSize" style="text-align:center">--</div>
        <div id="dangerNote" style="margin-top:8px"></div>
        <div class="downloadBtn" id="downloadBtn">DOWNLOAD</div>
      </div>
    </div>
  </div>
</div>

<!-- Audio del menú. Se incluyen dos rutas para mayor compatibilidad (audio/Menu.mp3 o Menu.mp3) -->
<audio id="menuMusic" loop>
  <source src="audio/Menu.mp3" type="audio/mpeg">
  <source src="Menu.mp3" type="audio/mpeg">
</audio>

<script>
/*  CONFIG: coloca la key aquí */
const ACCESS_KEY = "549237501304Key_78420";
/*  NO EDITAR MÁS ABAJO A MENOS QUE SEPAS QUÉ HACES  */

const mainOptions = Array.from(document.querySelectorAll('#mainOptions .option'));
const logPanel = document.getElementById('logPanel');
const statusSmall = document.getElementById('statusSmall');
const progressBar = document.getElementById('progressBar');
const barWrap = document.getElementById('barWrap');
const virusPanel = document.getElementById('virusPanel');
const vtText = document.getElementById('vtText');
const vtVerdict = null; // no usado aquí
const fileSizeBox = document.getElementById('fileSize');
const downloadBtn = document.getElementById('downloadBtn');
const dangerNote = document.getElementById('dangerNote');

/* elemento audio del menú */
const menuMusic = document.getElementById('menuMusic');

let mode = 'menu'; // modos: menu, hacking, keyinput, steam_connect, game_menu, vt
let mainSelected = 0;
let gameOptions = null;
let gameSelected = 0;

/* Pesos y datos VT (pegados tal cual) */
const gameSizes = {
  'Fnaf1':'219 (MB)',
  'Fnaf2':'205 (MB)',
  'Fnaf3':'109 (MB)',
  'Fnaf4':'498 (MB)'
};

const vtData = {
  'Fnaf1': `Fnaf1: 0 / 60
Community Score
• No security vendors flagged this file as malicious
Reanalyze
ef35e887722a536d47d01c3a0adb6593927c121334691f82daeaef03d3cbe5c9
Five+Nights+at+Freddys+1.rar
Size
218.10 MB
Last Analysis Date
8 days ago
rar
detect-debug-environment
long-sleeps
Detection
Details
Relations
Behavior
Community
Security vendors' analysis:
Acronis (Static ML) - Undetected
AhnLab-V3 - Undetected
AliCloud - Undetected
ALYac - Undetected
Antiy-AVL - Undetected
Arcabit - Undetected
Avast - Undetected
AVG - Undetected
Avira (no cloud) - Undetected
Baidu - Undetected
BitDefender - Undetected
ClamAV - Undetected
... (otros proveedores marcados como Undetected)
(Algunos motores indicaron 'Unable to process file type' o 'Timeout' para ciertos proveedores)
`,
  'Fnaf2': `Fnaf2: 0 / 60
Community Score
• No security vendors flagged this file as malicious
Reanalyze
104ee4b0d7bd41a6a972f7fbc5feed22355da569b558f26bf4d227945d5c6c84
Five+Nights+at+Freddys+2.rar
Size
205.69 MB
Last Analysis Date
3 days ago
rar
detect-debug-environment
long-sleeps
Detection
Details
Relations
Behavior
Community
Security vendors' analysis:
Acronis (Static ML) - Undetected
AhnLab-V3 - Undetected
AliCloud - Undetected
ALYac - Undetected
Antiy-AVL - Undetected
Arcabit - Undetected
Avast - Undetected
AVG - Undetected
Avira (no cloud) - Undetected
Baidu - Undetected
... (otros proveedores marcados como Undetected)
`,
  'Fnaf3': `Fnaf3: 0 / 62
Community Score
• No security vendors flagged this file as malicious
Reanalyze
ff74b0f2cdb368aee96320c36e2d50b31fd3e69577820dfc55f0a6dacd891514
Five+Nights+at+Freddys+3.rar
Size
109.74 MB
Last Analysis Date
29 days ago
rar
detect-debug-environment
long-sleeps
Detection
Details
Relations
Behavior
Community
Security vendors' analysis:
Acronis (Static ML) - Undetected
AhnLab-V3 - Undetected
AliCloud - Undetected
ALYac - Undetected
Antiy-AVL - Undetected
Arcabit - Undetected
Avast - Undetected
AVG - Undetected
Avira (no cloud) - Undetected
Baidu - Undetected
... (otros proveedores marcados como Undetected)
`,
  'Fnaf4': `Fnaf4: 2 / 69
Community Score 7
2/69 security vendors flagged this file as malicious
Reanalyze
082a7ecd7369dff1e4bf433b3e8e73ee10fa200afb6509fbe47f551dd3c9c314
FiveNightsatFreddys4.exe
Size
498.76 MB
Last Analysis Date
2 days ago
peexe
overlay
Detection
Details
Relations
Behavior
Community
13
Popular threat label: trojan.
Threat categories: trojan
Security vendors' analysis (ejemplos):
Jiangmin - Trojan.Csfrsys.bf
Zillya - Trojan.Agent.Win32.790771
(13 detecciones en total; varios proveedores marcaron como malicioso)
-- ADVERTENCIA: Este archivo tiene Virus detectado: Trojan.Agent.Win32.790771
Tu responsabilidad si quieres descargarlo.
`
};

/* Inicializar selección del menú principal */
function refreshMainMenu(){
  mainOptions.forEach((el,i)=>{
    el.classList.toggle('focus', i===mainSelected);
  });
}
refreshMainMenu();

/* Añadir línea al log */
function appendLog(text){
  const line = document.createElement('div');
  line.className = 'log-line';
  line.textContent = text;
  logPanel.appendChild(line);
  logPanel.scrollTop = logPanel.scrollHeight;
}

/* Document key handler que usa `mode` */
document.addEventListener('keydown', (e) => {
  if(mode === 'menu'){
    if(e.key === 'ArrowUp'){ e.preventDefault(); mainSelected = (mainSelected -1 + mainOptions.length) % mainOptions.length; refreshMainMenu(); }
    else if(e.key === 'ArrowDown'){ e.preventDefault(); mainSelected = (mainSelected +1) % mainOptions.length; refreshMainMenu(); }
    else if(e.key === 'Enter'){ e.preventDefault(); // bloquear doble uso
      // confirmar y pasar a hacking
      mode = 'hacking';
      mainOptions.forEach(el => el.classList.remove('focus'));
      appendLog(`Seleccionado: ${mainOptions[mainSelected].textContent.trim()}`);
      if(mainSelected === 0) startFakeHackSequence();
      else { appendLog('Operación cancelada.'); statusSmall.textContent = 'Cancelado'; mode = 'menu'; refreshMainMenu(); }
    }
  } else if(mode === 'game_menu'){
    // navegación de juegos
    if(e.key === 'ArrowUp'){ e.preventDefault(); gameSelected = (gameSelected -1 + gameOptions.length) % gameOptions.length; updateGameFocus(); }
    else if(e.key === 'ArrowDown'){ e.preventDefault(); gameSelected = (gameSelected +1) % gameOptions.length; updateGameFocus(); }
    else if(e.key === 'Enter'){ e.preventDefault(); const name = gameOptions[gameSelected].dataset.game; appendLog(`Seleccionado juego: ${name}`); startVirusAnalysis(name);
      // al seleccionar un juego y presionar Enter, llevar al usuario al panel de análisis
      try{ document.getElementById('virusPanel').scrollIntoView({behavior:'smooth', block:'center'}); }catch(err){}
    }
    else if(e.key === 'Escape'){ e.preventDefault(); appendLog('Volviendo al estado anterior.'); /* no implementado volver atrás complejo */ }
  }
  // en otros modos ignoramos teclas globales (keyinput tiene su propio input)
});

/* Fake hack (7s) */
function startFakeHackSequence(){
  appendLog('Iniciando convertidor...');
  statusSmall.textContent = 'Ejecutando';
  barWrap.style.display = 'block';
  progressBar.style.width = '0%';

  const fakeCommands = [
    'checking kernel modules',
    'reading process table',
    'probing network interfaces',
    'resolving DNS entries',
    'decrypting payload',
    'validating signatures',
    'allocating secure memory',
    'handshake with remote cluster',
    'scanning open ports',
    'opening reverse shell'
  ];

  const start = Date.now();
  const duration = 7000;
  const interval = 120;
  const id = setInterval(()=>{
    const cmd = fakeCommands[Math.floor(Math.random()*fakeCommands.length)];
    const rnd = Math.random().toString(16).substring(2,10);
    appendLog(`root@term:~# ${cmd} ${rnd}`);
    const elapsed = Date.now() - start;
    const pct = Math.min(100, Math.round((elapsed/duration)*100));
    progressBar.style.width = pct + '%';
    if(elapsed >= duration){
      clearInterval(id);
      progressBar.style.width = '100%';
      appendLog('Proceso completado.');
      // pasar a pedir key
      setTimeout(()=>{ mode = 'keyinput'; promptKeyVisible(); }, 150); // pequeño retardo para evitar solapamientos
    }
  }, interval);
}

/* Muestra input visible y maneja validación (bloquea modo global) */
function promptKeyVisible(){
  appendLog('');
  appendLog('Introduce la Key de acceso y presiona Enter:');

  // crear UI visible dentro del logPanel
  const wrap = document.createElement('div');
  wrap.className = 'keyInputWrap';

  const input = document.createElement('input');
  input.className = 'keyInput';
  input.type = 'text';
  input.placeholder = 'Escribe la key aquí...';
  input.autocomplete = 'off';

  const btn = document.createElement('button');
  btn.className = 'keyBtn';
  btn.textContent = 'OK';

  wrap.appendChild(input);
  wrap.appendChild(btn);
  logPanel.appendChild(wrap);
  logPanel.scrollTop = logPanel.scrollHeight;

  input.focus();

  function finish(ok){
    wrap.remove();
    if(ok){
      appendLog('Key correcta.');
      mode = 'steam_connect';
      connectSteamSequence();
    } else {
      appendLog('Key incorrecta.');
      // permitir reintento: mostramos la caja otra vez después de un pequeño retraso
      setTimeout(()=>{ if(mode !== 'steam_connect'){ mode = 'keyinput'; promptKeyVisible(); } }, 400);
    }
  }

  // detectar Enter en el input (evitar que document capture)
  input.addEventListener('keydown', function(e){
    e.stopPropagation();
    if(e.key === 'Enter'){
      e.preventDefault();
      const val = input.value.trim();
      if(val === ACCESS_KEY) finish(true);
      else finish(false);
    } else if(e.key === 'Escape'){
      e.preventDefault();
      wrap.remove();
      appendLog('Input Key cancelado.');
      mode = 'menu';
      refreshMainMenu();
    }
  });

  btn.addEventListener('click', function(e){
    e.stopPropagation();
    const val = input.value.trim();
    if(val === ACCESS_KEY) finish(true);
    else finish(false);
  });
}

/* Conexión a Steam (animación) */
function connectSteamSequence(){
  appendLog('Conectando Servidores Steam...');
  statusSmall.textContent = 'Conectando Steam';
  progressBar.style.width = '0%';
  barWrap.style.display = 'block';

  let pct = 0;
  const id = setInterval(()=>{
    pct += Math.round(Math.random()*18);
    if(pct >= 100) pct = 100;
    progressBar.style.width = pct + '%';
    if(pct === 100){
      clearInterval(id);
      appendLog('Conexión establecida.');
      setTimeout(()=>{ showGameMenu(); }, 250);
    }
  }, 180);
}

/* Mostrar menú de juegos y preparar control (modo game_menu) */
function showGameMenu(){
  appendLog('');
  appendLog('=== Select Game ===');

  const menu = document.querySelector('.menu');
  menu.innerHTML = `
    <div style="font-weight:700;margin-bottom:6px">Select Game</div>
    <div style="margin-bottom:8px;color:var(--fg)">Elige juego con ↑ ↓ y Enter</div>
    <div class="options" id="gameOptions">
      <div class="option" data-game="Fnaf1">Fnaf1 <span style="color:${'#6b6b6b'}">(${gameSizes['Fnaf1']})</span></div>
      <div class="option" data-game="Fnaf2">Fnaf2 <span style="color:${'#6b6b6b'}">(${gameSizes['Fnaf2']})</span></div>
      <div class="option" data-game="Fnaf3">Fnaf3 <span style="color:${'#6b6b6b'}">(${gameSizes['Fnaf3']})</span></div>
      <div class="option" data-game="Fnaf4">Fnaf4 <span style="color:${'#6b6b6b'}">(${gameSizes['Fnaf4']})</span></div>
    </div>
    <div class="hint">Al seleccionar, se mostrará análisis VT</div>
  `;

  // preparar gameOptions y estado
  gameOptions = Array.from(document.querySelectorAll('#gameOptions .option'));
  gameSelected = 0;
  updateGameFocus();
  mode = 'game_menu';

  // reproducir música del menú (ignorar errores de autoplay)
  if(menuMusic){
    try{
      menuMusic.currentTime = 0;
      menuMusic.play();
    }catch(e){}
  }
}

/* Actualiza foco visual y caja de tamaño */
function updateGameFocus(){
  if(!gameOptions) return;
  gameOptions.forEach((el,i)=> el.classList.toggle('focus', i===gameSelected));
  const g = gameOptions[gameSelected].dataset.game;
  fileSizeBox.textContent = gameSizes[g] || '--';
}

/* Inicia análisis con animación y luego muestra vtData */
function startVirusAnalysis(gameName){
  mode = 'vt';
  appendLog('');
  appendLog(`Generando análisis VirusTotal para ${gameName} ...`);
  virusPanel.style.display = 'block';
  vtText.textContent = 'Escaneo en progreso, por favor espere...';
  fileSizeBox.textContent = gameSizes[gameName] || '--';
  dangerNote.innerHTML = '';

  const steps = [
    'Subiendo hash a VT...',
    'Consultando motores (avira, kaspersky, microsoft)...',
    'Correlando detecciones...',
    'Generando resumen...'
  ];
  let i = 0;
  const id = setInterval(()=>{
    vtText.textContent = (i < steps.length ? steps[i] : 'Finalizando...') + '\n\n' + generateFakeVTLines(gameName);
    i++;
    if(i > steps.length + 1){
      clearInterval(id);
      // mostrar datos reales pegados
      vtText.textContent = vtData[gameName] || '[Sin datos]';
      // establecer veredicto y notas
      if(gameName === 'Fnaf4'){
        // malicioso
        dangerNote.innerHTML = `<div class="danger">ADVERTENCIA: Este archivo tiene Virus detectado: Trojan.Agent.Win32.790771\nTu responsabilidad si quieres descargarlo.</div>`;
      } else {
        dangerNote.innerHTML = '';
      }
      // habilitar descarga con comportamiento de confirmación si malicioso
      setupDownload(gameName);
      // volver al modo game_menu para permitir nuevas selecciones
      mode = 'game_menu';
    }
  }, 700);
}

/* Generador de líneas para animación */
function generateFakeVTLines(game){
  const ips = ['185.220.101.1','94.142.241.3','13.107.21.200'];
  const lines = [
    `hash: ${Math.random().toString(16).slice(2,12)}`,
    `host: ${ips[Math.floor(Math.random()*ips.length)]}`,
    `scanners: ${Math.floor(Math.random()*30)+10} / 76`,
    `first_seen: 2025-02-${String(Math.floor(Math.random()*26)+1).padStart(2,'0')}`,
    `tags: trojan? false, packing? false`
  ];
  return lines.join('\n');
}

/* Descargar resultado: abre el enlace de MediaFire según juego */
function setupDownload(gameName){
  const links = {
    'Fnaf1': 'https://www.mediafire.com/file/ysyqevytme41unq/Five%252BNights%252Bat%252BFreddys%252B1.rar/file',
    'Fnaf2': 'https://www.mediafire.com/file/2v9icq5mps81jma/Five%252BNights%252Bat%252BFreddys%252B2.rar/file',
    'Fnaf3': 'https://www.mediafire.com/file/yli1vwpfm38y22a/Five_Nights_at_Freddys_3.zip/file',
    'Fnaf4': 'https://www.mediafire.com/file/uto86wrqxtcwzrn/Five+Nights+at+Freddys+4.exe/file'
  };

  downloadBtn.onclick = ()=>{
    const isMalicious = (gameName === 'Fnaf4'); // según datos pegados
    if(isMalicious){
      const ok = confirm('ADVERTENCIA: Este archivo fue reportado como malicioso (trojan). Tu responsabilidad si descargas. ¿Deseas continuar?');
      if(!ok){ appendLog('Descarga cancelada por el usuario.'); return; }
    }

    // Mensaje temático pedido por el usuario
    appendLog('Dirigiendo a MegaFire para descargar tu archivo Buena suerte');

    // abrir enlace en nueva pestaña
    const url = links[gameName];
    if(url){
      try{
        window.open(url, '_blank');
        appendLog(`Redirigido a: ${url}`);
      }catch(e){
        // fallback
        window.location.href = url;
      }
    } else {
      appendLog('No se encontró enlace para este juego.');
    }
  };
}

/* FIN */
</script>
</body>
</html>
